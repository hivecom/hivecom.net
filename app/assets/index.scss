@use 'sass:meta';
@use './breakpoints.scss' as *;

@import url(@dolanske/vui/style);

// Place global styles which should be available on all pages here
:root {
  // Main container sizes
  --container-l: 1280px;
  --container-m: 968px;
  --container-s: 728px;

  // Dark (default) theme colors
  --dark-color-bg: #111;
  --dark-color-fg: #0a0a0a;
  --dark-color-accent: #a7fc2f;
  --dark-color-bg-accent-raised: #69b103;
  --dark-color-bg-accent-lowered: #4e8502;

  --dark-color-text: #fff;
  --dark-color-text-lighter: rgb(110, 110, 110);
  --dark-color-border-weak: #181818;

  // Light theme colors
  --light-color-bg: #eee;
  --light-color-fg: #ddd;
  --light-color-accent: #69883e;
  --light-color-bg-accent-raised: #7ea34a;
  --light-color-bg-accent-lowered: #93be57;
  --light-color-text: #000;
  --light-color-bg-medium: rgb(231, 231, 231);

  --navbar-offset: 64px;

  --breakpoint-xs: 480px;
  --breakpoint-s: 768px;
  --breakpoint-m: 1024px;
  --breakpoint-l: 1280px;
  --breakpoint-xl: 1440px;

  --shiny-gradient: linear-gradient(100deg, #59d7f7, #3afea2, #a7fc2f);
  --banner-filter: none;

  --dark-color-bg-card: color-mix(in srgb, var(--color-bg-medium) 75%, transparent);
  --light-color-bg-card: color-mix(in srgb, var(--color-bg-lowered) 60%, transparent);
}

.vui-backdrop:after {
  opacity: 1;
  backdrop-filter: blur(2px);
}

:root.dark {
  --banner-filter: none;
  --color-bg-card: var(--dark-color-bg-card);

  .vui-backdrop:after {
    background-color: color-mix(in srgb, var(--color-bg-lowered) 90%, transparent);
  }
}

:root:not(.dark) {
  --banner-filter: invert(1);
  --color-bg-card: var(--light-color-bg-card);

  .vui-progress {
    background-color: var(--color-border) !important;
  }

  .vui-backdrop:after {
    background-color: color-mix(in srgb, var(--color-bg-lowered) 65%, transparent);
  }
}

.vui-badge {
  --vui-badge-padding-inline: 10px;
  --vui-badge-padding-block: 6px;
}

html,
body {
  font-size: 63.5%;
  font-size: var(--font-size-l);
  background: none;
}

a {
  color: var(--color-text);
  text-decoration: none;
}

button {
  cursor: pointer;

  &:disabled {
    cursor: not-allowed;
  }
}

.vui-button-variant-accent {
  .iconify {
    color: var(--color-text);
  }
}

.vui-button-variant-danger {
  .iconify {
    color: var(--color-white);
  }
}

.vui-card-content {
  position: relative;
}

.link-line {
  text-decoration: underline;
  text-underline-offset: 4px;

  &:hover {
    text-decoration: none;
  }
}

.vui-input-container.vui-select.expand {
  width: 100%;
}

.card-bg {
  background-color: var(--color-bg-card);

  .vui-card-header,
  .vui-card-content,
  .vui-card-footer {
    background-color: transparent;
  }
}

.vui-tooltip {
  z-index: 9999 !important;
}

.vui-modal > .vui-card {
  margin-bottom: 0;
}

table th,
table td {
  font-size: var(--font-size-s);
}

.inert {
  pointer-events: none;
}

.vui-button-accent-weak {
  &:hover {
    background-color: color-mix(in srgb, var(--color-accent) 15%, transparent) !important;
  }
}

.vui-breadcrumbs li {
  color: var(--color-text-light);

  button {
    font-size: inherit;
  }

  &:only-child {
    color: var(--color-text);
    font-size: var(--font-size-m);
    pointer-events: none;
  }
}

blockquote {
  padding-left: var(--space-s);
  margin-top: 0 !important;

  // TODO: bake this all into VUI

  & > * {
    margin-top: var(--space-s) !important;

    &:first-child {
      margin-top: 0 !important;
    }
  }
}

.vui-label {
  display: block;
  text-align: left;
  margin-bottom: 8px;
  font-size: var(--font-size-m);
  color: var(--color-text);
}

.vui-hint {
  margin-bottom: 8px;
  margin-top: -4px;
  color: var(--color-text-lighter);
  font-size: var(--font-size-s);
  display: block;
  text-align: left;
}

.vui-popout {
  box-shadow: 0 4px 12px 8px rgba(8, 8, 8, 0.5);
}

:root.light {
  .vui-popout {
    box-shadow: 0 4px 12px 8px rgba(8, 8, 8, 0.125);
  }
}

.vui-switch.checked .vui-switch-icon {
  background-color: color-mix(in srgb, var(--color-bg-accent-lowered) 25%, transparent) !important;

  .vui-switch-indicator {
    background-color: var(--color-accent);
  }
}

.vui-otp {
  .vui-otp-items {
    gap: var(--space-xs);

    .vui-otp-item {
      background-color: var(--color-bg-medium);
      border-radius: var(--border-radius-s) !important;
    }
  }
}

code {
  background-color: var(--color-bg);
}

.typeset {
  & > :first-child {
    margin-top: 0 !important;
  }
}

@media (max-width: $breakpoint-s) {
  .vui-table-container {
    width: auto !important;
  }
}

@include meta.load-css('./utilities.scss');
@include meta.load-css('./pages/login.scss');
@include meta.load-css('./elements/auth.scss');
@include meta.load-css('./elements/main.scss');
@include meta.load-css('./elements/page.scss');
@include meta.load-css('./elements/activity.scss');
